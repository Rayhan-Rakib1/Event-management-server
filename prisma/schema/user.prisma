model User {
    id           String     @id @default(cuid())
    email        String     @unique
    password     String
    name         String
    role         Role       @default(USER)
    gender       Gender     @default(MALE)
    profileImage String?
    bio          String?
    location     String?
    interests    String[]
    status       UserStatus @default(ACTIVE)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    reviews      Review[]      @relation("ReviewsByUser")
    admin        Admin?
    payments     Payment[]
    host         Host?         @relation("UserHost")
    participants Participant[]

    @@map("users")
}

model Host {
    id            String   @id @default(cuid())
    name          String
    email         String   @unique
    profileImage  String?
    bio           String?
    role          Role     @default(HOST)
    location      String?
    gender        Gender   @default(MALE)
    interests     String[]
    averageRating Float?   @default(0)
    totalRatings  Int      @default(0)

    user User @relation("UserHost", fields: [email], references: [email])

    totalEventsHosted Int   @default(0)
    totalRevenue      Float @default(0)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    hostedEvents    Event[]  @relation("HostedEvents")
    receivedReviews Review[] @relation("ReviewsForHost")

    @@map("host")
}

model Admin {
    id            String   @id @default(uuid())
    name          String
    email         String   @unique
    profilePhoto  String?
    contactNumber String
    isDeleted     Boolean  @default(false)
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt

    user User @relation(fields: [email], references: [email])

    @@map("admins")
}
